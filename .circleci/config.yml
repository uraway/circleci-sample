version: 2.1

executors:
  python:
    docker:
      - image: circleci/python:3.6.4
  with_db:
    docker:
      - image: circleci/python:3.6.4
      - image: circleci/postgres:9.6.2

jobs:
  test:
    parameters:
      e:
        type: executor
    executor: << parameters.e >>
    steps:
      - run: echo << parameters.e >>

workflows:
  workflow:
    jobs:
      - test:
          e: python
      - test:
          e: with_db
